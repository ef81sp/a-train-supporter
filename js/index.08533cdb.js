(function(e){function t(t){for(var a,l,r=t[0],c=t[1],u=t[2],s=0,b=[];s<r.length;s++)l=r[s],Object.prototype.hasOwnProperty.call(i,l)&&i[l]&&b.push(i[l][0]),i[l]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);d&&d(t);while(b.length)b.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,l=1;l<n.length;l++){var c=n[l];0!==i[c]&&(a=!1)}a&&(o.splice(t--,1),e=r(r.s=n[0]))}return e}var a={},i={index:0},o=[];function l(e){return r.p+"js/"+({}[e]||e)+"."+{"chunk-2d21e38c":"8a7c5d5d"}[e]+".js"}function r(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.e=function(e){var t=[],n=i[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise((function(t,a){n=i[e]=[t,a]}));t.push(n[2]=a);var o,c=document.createElement("script");c.charset="utf-8",c.timeout=120,r.nc&&c.setAttribute("nonce",r.nc),c.src=l(e);var u=new Error;o=function(t){c.onerror=c.onload=null,clearTimeout(s);var n=i[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+a+": "+o+")",u.name="ChunkLoadError",u.type=a,u.request=o,n[1](u)}i[e]=void 0}};var s=setTimeout((function(){o({type:"timeout",target:c})}),12e4);c.onerror=c.onload=o,document.head.appendChild(c)}return Promise.all(t)},r.m=e,r.c=a,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/a-train-supporter/",r.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var s=0;s<c.length;s++)t(c[s]);var d=u;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"0474":function(e,t,n){"use strict";n("76da")},"061b":function(e,t,n){"use strict";n("dc41")},"0b91":function(e,t,n){},2043:function(e,t,n){},"22cf":function(e,t,n){"use strict";n("981b")},"308f":function(e,t,n){"use strict";n("3ca4")},3595:function(e,t,n){"use strict";n("ccc2")},"3ca4":function(e,t,n){},"4deb":function(e,t,n){"use strict";n("82ad")},"76da":function(e,t,n){},8194:function(e,t,n){"use strict";n("0b91")},"82ad":function(e,t,n){},"981b":function(e,t,n){},a23e:function(e,t,n){"use strict";n("f32c")},bb1f:function(e,t,n){},ccc2:function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23");function i(e,t){var n=Object(a["G"])("router-view");return Object(a["y"])(),Object(a["f"])(n)}n("4deb");var o=n("6b0d"),l=n.n(o);const r={},c=l()(r,[["render",i]]);var u=c,s=n("9483");Object(s["a"])("".concat("/a-train-supporter/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var d=n("6c02"),b={class:"home"},m={class:"card"};function f(e,t,n,i,o,l){Object(a["G"])("MeasureNeccesaryTime");var r=Object(a["G"])("Diagram");return Object(a["y"])(),Object(a["h"])("div",b,[Object(a["g"])("",!0),Object(a["i"])("div",m,[Object(a["l"])(r)])])}var p=function(e){return Object(a["B"])("data-v-3b9bdf89"),e=e(),Object(a["z"])(),e},v=p((function(){return Object(a["i"])("p",{class:"caption"},[Object(a["k"])(" ゲーム内の時間拡張倍率・早回し倍率を選んで、列車の走行に合わせてボタンを押すと、"),Object(a["i"])("br"),Object(a["k"])("ゲーム内時間でのだいたいの所要時間が測れます。 ")],-1)})),O={class:"formgrid grid"},j={class:"field col"},y=p((function(){return Object(a["i"])("label",{for:"multiplyers"}," 時間拡張",-1)})),g={class:"field col"},T=p((function(){return Object(a["i"])("label",{for:"fast-forward"},"早回し",-1)})),h={class:"timer"};function S(e,t,n,i,o,l){var r=Object(a["G"])("Dropdown"),c=Object(a["G"])("MeasureNecessaryTimeRunningButton"),u=Object(a["G"])("Button"),s=Object(a["G"])("Card");return Object(a["y"])(),Object(a["f"])(s,{class:"card"},{content:Object(a["Q"])((function(){return[v,Object(a["i"])("div",O,[Object(a["i"])("div",j,[y,Object(a["l"])(r,{modelValue:e.selectedMultiplyer,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.selectedMultiplyer=t}),options:e.MULTIPLYERS,optionLabel:"name",optionValue:"value",placeholder:"x3〜x450",id:"multiplyers",disabled:e.isStarted},null,8,["modelValue","options","disabled"])]),Object(a["i"])("div",g,[T,Object(a["l"])(r,{modelValue:e.selectedFastForward,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.selectedFastForward=t}),options:e.FAST_FORWARDS,optionLabel:"name",optionValue:"value",placeholder:"x1〜x3",id:"fast-forward",disabled:e.isStarted},null,8,["modelValue","options","disabled"])])]),Object(a["i"])("p",h,Object(a["K"])(e.formattedTime),1),Object(a["i"])("div",null,[Object(a["l"])(c,{onClick:e.onClickRunning,isRunning:e.isRunning},null,8,["onClick","isRunning"]),Object(a["l"])(u,{label:"通過",class:"p-button-info",onClick:e.onClickPassing,disabled:!e.isRunning},null,8,["onClick","disabled"])]),Object(a["i"])("div",null,[Object(a["l"])(u,{label:"タイマー止",class:"p-button-warning",onClick:e.allStop,disabled:!e.isStarted},null,8,["onClick","disabled"]),Object(a["l"])(u,{label:"リセット",class:"p-button-danger",onClick:e.reset,disabled:!e.isStarted},null,8,["onClick","disabled"])]),Object(a["i"])("p",null,"ゲーム内所要時間(分): "+Object(a["K"])(e.recordedRap),1)]})),_:1})}var D=n("2909");n("99af");function x(e,t,n,i,o,l){var r=Object(a["G"])("Button");return Object(a["y"])(),Object(a["f"])(r,{onClick:e.onClick,class:Object(a["s"])(e.buttonRunningClass),disabled:e.disabled},{default:Object(a["Q"])((function(){return[Object(a["i"])("span",{class:Object(a["s"])(e.buttonRunningIcon)},null,2),Object(a["k"])(Object(a["K"])(e.buttonRunningLabel),1)]})),_:1},8,["onClick","class","disabled"])}var I=Object(a["m"])({name:"MeasureNecessaryTimeRunningButton",props:{onClickRunning:Function,onClickPassing:Function,isRunning:Boolean,isPass:Boolean,class:String,disabled:{type:Boolean,default:!1}},setup:function(e){var t=Object(a["d"])((function(){return e.isRunning?e.isPass?"通過":"停車":"発車"})),n=Object(a["d"])((function(){return e.isRunning?e.isPass?"通過":"停車":"発車"})),i=Object(a["d"])((function(){var e="mx-1 pi";switch(t.value){case"通過":return e+" pi-fast-forward";case"停車":return e+" pi-pause";case"発車":default:return e+" pi-play"}})),o=Object(a["d"])((function(){var n=e.class+" flex justify-content-center ";switch(t.value){case"通過":return n+"p-button-secondary";case"停車":return n+"p-button-success";case"発車":default:return n}})),l=Object(a["d"])((function(){switch(t.value){case"通過":return e.onClickPassing;case"停車":case"発車":default:return e.onClickRunning}}));return{buttonRunningLabel:n,buttonRunningIcon:i,buttonRunningClass:o,onClick:l}}});const k=l()(I,[["render",x]]);var _=k,C="YYYY-MM-DD HH:mm",w=[{label:"ワインレッド",value:"#842e36"},{label:"オレンジバーミリオン",value:"#c16b49"},{label:"うぐいす",value:"#8fb871"},{label:"エメラルドグリーン",value:"#008d79"},{label:"ブライトブルー",value:"#0c3f71"},{label:"スカイブルー",value:"#008aa2"}],V=[{name:"x1(現実世界用)",value:1},{name:"x3",value:3},{name:"x6",value:6},{name:"x12",value:12},{name:"x30",value:30},{name:"x60",value:60},{name:"x120",value:120},{name:"x450",value:450}],R=[{name:"x0.5",value:.5},{name:"x1",value:1},{name:"x1.5",value:1.5},{name:"x2",value:2},{name:"x2.5",value:2.5},{name:"x3",value:3},{name:"x5",value:5},{name:"x10",value:10}],M=n("d4ec"),B=n("bee2"),L=n("5a0c"),A=n.n(L),N=function(){function e(t){Object(M["a"])(this,e),this.multiplyer=1,this.now=A()("2000-10-14 00:00:00.000"),this.multiplyer=t}return Object(B["a"])(e,[{key:"start",value:function(){var e=this;this.intervalId=setInterval((function(){e.bump()}),10)}},{key:"stop",value:function(){clearInterval(this.intervalId)}},{key:"reset",value:function(){this.now=A()("2000-10-14 00:00:00.000")}},{key:"bump",value:function(){this.now=this.now.add(10*this.multiplyer,"ms")}}]),e}(),F=Object(a["m"])({name:"MeasureNeccesaryTime",components:{MeasureNecessaryTimeRunningButton:_},setup:function(){var e=Object(a["D"])(60),t=Object(a["D"])(10),n=Object(a["D"])(new N(e.value*t.value));Object(a["P"])([e,t],(function(){n.value=new N(e.value*t.value)}));var i,o=Object(a["d"])((function(){return n.value.now.format("HH:mm")})),l=Object(a["D"])(!1),r=Object(a["D"])(!1),c=Object(a["D"])([]),u=function(){l.value=!l.value,r.value||(r.value=!0,n.value.start()),l.value?i=n.value.now:c.value=[].concat(Object(D["a"])(c.value),[A()(n.value.now).diff(i,"minute")])},s=function(){c.value=[].concat(Object(D["a"])(c.value),[A()(n.value.now).diff(i,"minute")]),i=n.value.now},d=function(){l.value=!1,n.value.stop()},b=function(){d(),r.value=!1,c.value=[],n.value.reset()};return{MULTIPLYERS:V,FAST_FORWARDS:R,selectedMultiplyer:e,selectedFastForward:t,recordedRap:c,timer:n,formattedTime:o,onClickRunning:u,onClickPassing:s,allStop:d,reset:b,MeasureNecessaryTimeRunningButton:_,isStarted:r,isRunning:l}}});n("a23e");const G=l()(F,[["render",S],["__scopeId","data-v-3b9bdf89"]]);var U=G,P=(n("d3b7"),n("ddb0"),function(e){return Object(a["B"])("data-v-12a1a0b1"),e=e(),Object(a["z"])(),e}),H={class:"grid p-1"},E={class:"col-12 flex justify-content-between"},Q=P((function(){return Object(a["i"])("h1",{class:"text-lg mb-0"},"DiaGen",-1)})),K={class:"col-12"},W={class:"col-12 md:col-8"},z={class:"flex overflow-x-scroll"},Y={class:"col"};function q(e,t,n,i,o,l){var r,c=Object(a["G"])("DiagramMenu"),u=Object(a["G"])("DiagramStationManager"),s=Object(a["G"])("Panel"),d=Object(a["G"])("Chart"),b=Object(a["G"])("Button"),m=Object(a["G"])("DiagramTrainTypeManager"),f=Object(a["G"])("DiagramTimeTableManager");return Object(a["y"])(),Object(a["h"])("div",H,[Object(a["i"])("div",E,[Q,Object(a["l"])(c)]),Object(a["i"])("div",K,[Object(a["l"])(s,{header:"駅設定",toggleable:!0},{default:Object(a["Q"])((function(){return[Object(a["l"])(u)]})),_:1})]),Object(a["i"])("div",W,[Object(a["l"])(s,{header:"ダイヤグラム",class:"my-2"},{default:Object(a["Q"])((function(){return[Object(a["l"])(d,{type:"line",data:e.data,options:e.graphOptions,ref:"chartRef"},null,8,["data","options"])]})),_:1}),Object(a["l"])(s,{header:"種別と所要時間",class:"my-1 time-table-manager-panel"},{icons:Object(a["Q"])((function(){return[Object(a["l"])(b,{class:"p-button-sm",icon:"pi pi-plus",onClick:e.addInitialTrainType,disabled:!e.canAddTrainType,label:"種別追加"},null,8,["onClick","disabled"])]})),default:Object(a["Q"])((function(){return[Object(a["i"])("div",z,[(Object(a["y"])(!0),Object(a["h"])(a["a"],null,Object(a["E"])(e.trainTypes.keys(),(function(e){return Object(a["y"])(),Object(a["f"])(m,{key:e,trainTypeId:e,class:"col"},null,8,["trainTypeId"])})),128))])]})),_:1})]),Object(a["i"])("div",Y,[Object(a["l"])(f,{diagramDataSetId:e.showingTrainId,refreshChart:null===(r=e.chartRef)||void 0===r?void 0:r.refresh},null,8,["diagramDataSetId","refreshChart"])])])}n("8e16"),n("a4d3"),n("e01a"),n("4ec9"),n("3ca3");var J=n("5502"),X=n("0050"),Z=n.n(X),$=n("b85c"),ee=(n("7db0"),n("4de4"),n("caad"),n("2532"),n("b0c0"),Z()()),te={getStation:function(e){var t=e.stationList;return function(e){return t.stations.find((function(t){return t.id===e}))}},getShouldRecordTimeStationList:function(e){var t=e.stationList;return t.stations.filter((function(e){return e.shouldRecordTime}))},getTerminalStation:function(e){var t=e.stationList;return{startingStationId:t.startingStationId,endingStationId:t.endingStationId}},getTrainType:function(e){var t=e.trainTypes;return function(e){return t.get(e)}},getTrainTypeByTrainId:function(e){var t=e.trainTypes;return function(e){return Object(D["a"])(t.values()).find((function(t){return t.trainIdList.includes(e)}))}},getChatrJsData:function(e,t){var n,a=e.diagramData,i=ee(a),o=Object($["a"])(i.datasets);try{for(o.s();!(n=o.n()).done;){var l,r=n.value,c=Object($["a"])(r.data);try{for(c.s();!(l=c.n()).done;){var u,s=l.value;s.name=null===(u=t.getStation(s.stationId))||void 0===u?void 0:u.name}}catch(d){c.e(d)}finally{c.f()}}}catch(d){o.e(d)}finally{o.f()}return i},getMinAndMaxTimeOnDiagramData:function(e){var t=e.diagramData,n=t.datasets.reduce((function(e,t,n){if(0===t.data.length)return e;var a=t.data.length-1;return 0===n||""===e.min&&""===e.max?{min:t.data[0].time,max:t.data[a].time}:{min:A()(t.data[0].time,C).isBefore(A()(e.min,C))?t.data[0].time:e.min,max:A()(t.data[a].time,C).isAfter(A()(e.max,C))?t.data[a].time:e.max}}),{min:"",max:""});return n.min=A()(n.min,C).subtract(15,"minute").format(C),n.max=A()(n.max,C).add(15,"minute").format(C),n},getTrainDiagramDataSetById:function(e){var t=e.diagramData;return function(e){return t.datasets.find((function(t){return t.id===e}))}},getHistoryInfo:function(e){var t=e.__history;return{nowIndex:t?t.nowIndex:0,length:t?t.stack.length:0}}},ne=(n("d81d"),n("4e82"),n("a15b"),n("07ac"),n("fb6a"),n("3835")),ae=(n("159b"),Z()()),ie=function(e){return A()(e,C).format("HH:mm")},oe=function(e,t){return A()(e,C).add(t,"minute").format(C)},le=function(e,t){var n=A()(e,C),a=n.get("minute"),i=0===t?60:t,o=i;while(a>=o)o+=i;return n.minute(o).format(C)},re=function(e){var t,n=e.startTime,a=e.trainType,i=e.startStation,o=e.endStation,l=e.turnCycleTime,r=void 0===l?30:l,c=e.boundFor,u=e.terminalStation,s=n,d=[{stationId:i,time:n}];(function(e){e[e["ONE_WAY"]=0]="ONE_WAY",e[e["ROUND_TRIP_OUTWARD"]=1]="ROUND_TRIP_OUTWARD",e[e["ROUND_TRIP_HOMEWORD"]=2]="ROUND_TRIP_HOMEWORD"})(t||(t={}));var b=function(e,n){var l,c=!1,b=Object($["a"])(e);try{for(b.s();!(l=b.n()).done;){var m=Object(ne["a"])(l.value,2),f=m[1];if(f.from!==i&&n!==t.ROUND_TRIP_HOMEWORD||(c=!0),c||f.from===i){if(n!==t.ROUND_TRIP_HOMEWORD||f.from!==u.endingStationId&&f.from!==u.startingStationId||(s=le(s,r),d.push({stationId:f.from,time:s})),s=oe(s,f.necessaryTime),d.push({stationId:f.to,time:s}),n!==t.ROUND_TRIP_OUTWARD&&f.to===o||f.to===u.endingStationId||f.to===u.startingStationId)return;a.stoppingStationList.includes(f.to)&&(s=oe(s,1),d.push({stationId:f.to,time:s}))}}}catch(p){b.e(p)}finally{b.f()}};switch(c){case"A":b(a.necessaryTimesA,t.ONE_WAY);break;case"B":b(a.necessaryTimesB,t.ONE_WAY);break;case"AB":b(a.necessaryTimesA,t.ROUND_TRIP_OUTWARD),b(a.necessaryTimesB,t.ROUND_TRIP_HOMEWORD);break;case"BA":b(a.necessaryTimesB,t.ROUND_TRIP_OUTWARD),b(a.necessaryTimesA,t.ROUND_TRIP_HOMEWORD);break}return d},ce=function(e,t){var n,a=new Map,i=ae(e.stations);"B"===t&&i.reverse();var o=null===(n=i[0])||void 0===n?void 0:n.id;return i.forEach((function(e,t){if(0!==t&&e.shouldRecordTime){var n="".concat(o,"-").concat(e.id),i={id:n,from:o,to:e.id,necessaryTime:0};a.set(n,i),o=e.id}})),a},ue=function(e){var t=Object(D["a"])(e.values()).map((function(e){return e.lineColor})),n=w.filter((function(e){return!t.includes(e.value)}));return n[Math.floor(Math.random()*n.length)]},se=function(e,t,n){if(0===t)return ae(e);var a=1;a="forward"===n?1:-1;var i=t*a;return e.map((function(e){var t={stationId:e.stationId,time:A()(e.time,C).add(i,"minute").format(C)};return e.name&&(t.name=e.name),t}))},de=n("9f6a"),be=n.n(de),me=n("53ca"),fe=(n("a630"),function(e){return JSON.stringify(e,(function(e,t){return t instanceof Map?{dataType:"Map",value:Array.from(t.entries())}:t}))}),pe=function(e){return JSON.parse(e,(function(e,t){return"object"===Object(me["a"])(t)&&null!==t&&"Map"===t.dataType?new Map(t.value):t}))},ve=Z()(),Oe=function(e,t){e.__history?Object.assign(e,Object.assign(t,{__history:{stack:e.__history.stack,nowIndex:e.__history.nowIndex-1}})):Object.assign(e,Object.assign(t,{__history:{stack:[],nowIndex:0}}))},je={updateStationList:function(e,t){e.diagramData.labels=t.filter((function(e){return e.shouldRecordTime})).map((function(e){return e.name})),e.stationList.stations=t,e.stationList.startingStationId=t[0].id,e.stationList.endingStationId=t[t.length-1].id,e.__chartRefresh()},updateTrainTypeNecessaryTimeTable:function(e,t){var n=t.trainTypeId,a=t.boundFor,i=t.newNecessaryTimeMap,o=e.trainTypes.get(n);o&&("A"===a?o.necessaryTimesA=i:o.necessaryTimesB=i)},updateDiagramData:function(e,t){var n=t.id,a=t.data,i=e.diagramData.datasets.find((function(e){return e.id===n}));function o(e){return Object(D["a"])(new Map(e.map((function(e){return[Object.values(e).join(),e]}))).values())}i&&(i.data=o(a).sort((function(e,t){return A()(e.time,C).isBefore(A()(t.time,C))?-1:1})))},setShowingTrainId:function(e,t){var n=t.id;e.showingTrainId=n},addInitialTrainType:function(e){var t=Math.max.apply(Math,Object(D["a"])(e.trainTypes.keys()).concat([0]))+1,n={id:t,name:"種別".concat(t),trainIdList:[],stoppingStationList:e.stationList.stations.map((function(e){return e.id})),necessaryTimesA:ce(e.stationList,"A"),necessaryTimesB:ce(e.stationList,"B"),lineColor:ue(e.trainTypes).value};e.trainTypes.set(t,n)},updateTrainType:function(e,t){var n=t.id,a=t.data;e.trainTypes.set(n,a)},addTrain:function(e,t){var n=t.trainTypeId,a=t.trainId;console.log(n,a);var i=e.trainTypes.get(n);if(i){i.trainIdList.push(a);var o="".concat(i.name,"-").concat(i.trainIdList.length);e.diagramData.datasets.push({label:o,id:a,data:[],borderColor:i.lineColor}),e.diagramData.datasets.sort((function(e,t){return e.label<t.label?-1:e.label>t.label||0===e.data.length&&0!==t.data.length?1:0===t.data.length&&0!==e.data.length?-1:1})),e.showingTrainId=a}},incrementTrainId:function(e){e.nextTrainId++},setChartRefresh:function(e,t){var n=t.chartRefresh;e.__chartRefresh=n},__updateLineColorAndTrainName:function(e,t){var n=t.trainTypeId,a=e.trainTypes.get(n);if(a){var i,o=1,l=Object($["a"])(e.diagramData.datasets);try{for(l.s();!(i=l.n()).done;){var r=i.value;a.trainIdList.includes(r.id)&&(r.borderColor=a.lineColor,r.label="".concat(a.name,"-").concat(o++))}}catch(c){l.e(c)}finally{l.f()}}},__logHistory:function(e){var t=ve(e);delete t.__history,e.__history&&(be()(e.__history.stack[e.__history.nowIndex],t)||(e.__history.stack=e.__history.stack.slice(0,e.__history.nowIndex+1),e.__history.stack.push(t),e.__history.stack.length>100&&e.__history.stack.shift(),e.__history.nowIndex=e.__history.stack.length-1,delete t.__saveId,localStorage.setItem(String(e.__saveId),fe(t))))},undo:function(e){if(e.__history&&0!==e.__history.stack.length&&0!==e.__history.nowIndex){var t=ve(e.__history.stack[e.__history.nowIndex-1]);Object.assign(e,Object.assign(t,{__history:{stack:e.__history.stack,nowIndex:e.__history.nowIndex-1}}))}},redo:function(e){if(e.__history&&0!==e.__history.stack.length){var t=ve(e.__history.stack[e.__history.nowIndex+1]);Object.assign(e,Object.assign(t,{__history:{stack:e.__history.stack,nowIndex:e.__history.nowIndex+1}}))}},loadData:function(e,t){var n=t.id,a=localStorage.getItem(String(n));if(a){var i=pe(a);Oe(e,i)}else{var o=ve(Se);Oe(e,o)}},setSaveId:function(e,t){var n=t.id;e.__saveId=n}},ye=Z()(),ge={addTrain:function(e,t){var n=t.trainTypeId,a=e.state.nextTrainId;e.commit("addTrain",{trainTypeId:n,trainId:a}),e.commit("incrementTrainId"),e.commit("__logHistory")},addInitialTrainType:function(e){e.commit("addInitialTrainType");var t=Math.max.apply(Math,Object(D["a"])(e.state.trainTypes.keys()));e.dispatch("addTrain",{trainTypeId:t})},updateTrainType:function(e,t){e.commit("updateTrainType",t),e.commit("__updateLineColorAndTrainName",{trainTypeId:t.id}),e.state.__chartRefresh(),e.commit("__logHistory")},updateTrainTypeNecessaryTimeTable:function(e,t){e.commit("updateTrainTypeNecessaryTimeTable",t),e.commit("__logHistory")},updateDiagramData:function(e,t){e.commit("updateDiagramData",t),e.commit("__logHistory")},updateStationList:function(e,t){e.commit("updateStationList",t),e.state.trainTypes.forEach((function(t,n){var a=ye(t),i=ce(e.state.stationList,"A");i.forEach((function(e,n){var a,i=null===(a=t.necessaryTimesA.get(n))||void 0===a?void 0:a.necessaryTime;i&&(e.necessaryTime=i)})),a.necessaryTimesA=i;var o=ce(e.state.stationList,"B");o.forEach((function(e,n){var a,i=null===(a=t.necessaryTimesB.get(n))||void 0===a?void 0:a.necessaryTime;i&&(e.necessaryTime=i)})),a.necessaryTimesB=o,e.commit("updateTrainType",{id:n,data:a})})),e.commit("__logHistory")},loadData:function(e,t){e.commit("loadData",t)}},Te=Z()({circles:!0}),he=Symbol(),Se={stationList:{stations:[],startingStationId:0,endingStationId:0},trainTypes:new Map([]),diagramData:{labels:[],datasets:[]},showingTrainId:0,nextTrainId:1,__chartRefresh:function(){}},De=Object(J["a"])({state:Object.assign(Te(Se),{__history:{stack:[Se],nowIndex:0}}),getters:te,mutations:je,actions:ge,modules:{}}),xe=function(){return Object(J["b"])(he)},Ie=n("4344");function ke(e,t,n,i,o,l){var r=Object(a["G"])("DiagramMenuDataSaveManager"),c=Object(a["G"])("Button");return Object(a["y"])(),Object(a["h"])("div",null,[Object(a["l"])(r),Object(a["l"])(c,{label:"戻る",icon:"pi pi-angle-left",class:"mx-1",disabled:!e.canUndo,onClick:e.handleUndo},null,8,["disabled","onClick"]),Object(a["l"])(c,{label:"進む",icon:"pi pi-angle-right",class:"mx-1",disabled:!e.canRedo,onClick:e.handleRedo},null,8,["disabled","onClick"]),Object(a["l"])(c,{label:"ヘルプ",icon:"pi pi-question-circle",class:"mx-1"})])}function _e(e,t,n,i,o,l){var r=Object(a["G"])("InputNumber");return Object(a["y"])(),Object(a["f"])(r,{modelValue:e.saveId,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.saveId=t}),showButtons:"",buttonLayout:"horizontal",decrementButtonClass:"p-button-danger",incrementButtonClass:"p-button-success",incrementButtonIcon:"pi pi-plus",decrementButtonIcon:"pi pi-minus",mode:"decimal",min:1,max:100,inputClass:"w-4rem text-center"},null,8,["modelValue"])}var Ce=Object(a["m"])({setup:function(){var e=Object(a["D"])(1),t=xe();return Object(a["P"])(e,(function(){t.commit("setSaveId",{id:e.value}),t.dispatch("loadData",{id:e.value})})),{saveId:e}}});const we=l()(Ce,[["render",_e]]);var Ve=we,Re=Object(a["m"])({components:{DiagramMenuDataSaveManager:Ve},setup:function(){var e=xe(),t=Object(a["d"])((function(){return e.getters.getHistoryInfo.length>0&&0!==e.getters.getHistoryInfo.nowIndex})),n=Object(a["d"])((function(){return e.getters.getHistoryInfo.length>e.getters.getHistoryInfo.nowIndex+1})),i=function(){e.commit("undo")},o=function(){e.commit("redo")};return{canUndo:t,canRedo:n,handleUndo:i,handleRedo:o}}});const Me=l()(Re,[["render",ke]]);var Be=Me,Le={class:"font-bold"},Ae={class:"formgrid grid"},Ne={class:"field col-6"},Fe=Object(a["i"])("label",{for:"startStation",class:"col-fixed text-sm",style:{display:"block"}}," 発駅 ",-1),Ge={class:"field col-6"},Ue=Object(a["i"])("label",{for:"endStation",class:"col-fixed text-sm",style:{display:"block"}}," 着駅 ",-1),Pe={class:"field col-4"},He=Object(a["i"])("label",{for:"boundFor",class:"col-fixed text-sm",style:{display:"block"}}," 方面 ",-1),Ee={class:"field col-4 p-0"},Qe=Object(a["i"])("label",{for:"next-nextDepartureTime",class:"col-fixed text-sm",style:{display:"block"}}," 次発 ",-1),Ke={class:"field col-4"},We=Object(a["i"])("label",{for:"turn-cycle-nextDepartureTime",class:"col-fixed text-sm p-0",style:{display:"block"}},[Object(a["k"])(" 折返周期"),Object(a["i"])("span",{class:"text-xs"},"(分)")],-1);function ze(e,t,n,i,o,l){var r=Object(a["G"])("Dropdown"),c=Object(a["G"])("Calendar"),u=Object(a["G"])("InputNumber"),s=Object(a["G"])("SplitButton"),d=Object(a["G"])("DiagramTimeTableManagerCopyFromOtherTrain"),b=Object(a["G"])("DiagramTimeTableManagerTable"),m=Object(a["G"])("Panel");return Object(a["y"])(),Object(a["f"])(m,{header:"時刻",class:"my-2"},{icons:Object(a["Q"])((function(){return[]})),default:Object(a["Q"])((function(){var n;return[e.selectedDiagramDataSet?(Object(a["y"])(),Object(a["h"])(a["a"],{key:0},[Object(a["i"])("p",Le,[Object(a["i"])("span",{style:Object(a["t"])({color:null===(n=e.trainType)||void 0===n?void 0:n.lineColor})},"■",4),Object(a["k"])(" "+Object(a["K"])(e.selectedDiagramDataSet.label),1)]),Object(a["i"])("div",Ae,[Object(a["i"])("div",Ne,[Fe,Object(a["l"])(r,{id:"startStation",modelValue:e.startStation,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.startStation=t}),options:e.shouldRecordTimeStoppingStationList,optionLabel:"name",optionValue:"id",class:"w-10 text-left"},null,8,["modelValue","options"])]),Object(a["i"])("div",Ge,[Ue,Object(a["l"])(r,{id:"endStation",modelValue:e.endStation,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.endStation=t}),options:e.shouldRecordTimeStoppingStationList,optionLabel:"name",optionValue:"id",class:"w-10 text-left"},null,8,["modelValue","options"])]),Object(a["i"])("div",Pe,[He,Object(a["l"])(r,{id:"boundFor",modelValue:e.boundFor,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.boundFor=t}),options:e.boundForOptions,optionLabel:"key",optionValue:"key",optionDisabled:"disabled",class:"w-10 text-left"},null,8,["modelValue","options"])]),Object(a["i"])("div",Ee,[Qe,Object(a["l"])(c,{id:"next-nextDepartureTime",timeOnly:!0,hourFormat:"24",modelValue:e.nextDepartureTime,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.nextDepartureTime=t}),class:"w-10"},null,8,["modelValue"])]),Object(a["i"])("div",Ke,[We,Object(a["l"])(u,{id:"turn-cycle-nextDepartureTime",mode:"decimal",min:1,modelValue:e.turnCycleTime,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.turnCycleTime=t}),class:"w-10"},null,8,["modelValue"])])]),Object(a["l"])(s,{label:"ふやす",onClick:e.add,class:"p-button-sm my-2",model:[{label:"別列車からコピー",icon:"pi pi-copy",command:e.copyFrom}]},null,8,["onClick","model"]),Object(a["l"])(d,{visible:e.isVisibleCopyModal,"onUpdate:visible":t[5]||(t[5]=function(t){return e.isVisibleCopyModal=t}),diagramDataSet:e.selectedDiagramDataSet},null,8,["visible","diagramDataSet"]),Object(a["l"])(b,{modelValue:e.selectedDiagramDataSetData,"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.selectedDiagramDataSetData=t})},null,8,["modelValue"])],64)):Object(a["g"])("",!0)]})),_:1})}n("a9e3");function Ye(e,t,n,i,o,l){var r=Object(a["G"])("Column"),c=Object(a["G"])("DiagramTimeTableManagerTimeEditor"),u=Object(a["G"])("Button"),s=Object(a["G"])("Checkbox"),d=Object(a["G"])("DataTable");return Object(a["y"])(),Object(a["f"])(d,{value:e.copy,scrollable:!0,editMode:"cell",onCellEditComplete:e.onCellEditComplete,scrollHeight:"50vh",class:"p-datatable-sm"},{default:Object(a["Q"])((function(){return[Object(a["l"])(r,{field:"station",header:"駅"},{body:Object(a["Q"])((function(t){return[Object(a["k"])(Object(a["K"])(e.getStationName(t.data.stationId)),1)]})),_:1}),Object(a["l"])(r,{field:"time",header:"時刻"},{body:Object(a["Q"])((function(t){return[Object(a["k"])(Object(a["K"])(e.formatDdHhmmToHhmm(t.data.time)),1)]})),editor:Object(a["Q"])((function(e){return[Object(a["l"])(c,{modelValue:e.data["time"],"onUpdate:modelValue":function(t){return e.data["time"]=t}},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),Object(a["l"])(r,{class:"max-w-min"},{header:Object(a["Q"])((function(){return[Object(a["l"])(u,{icon:"pi pi-trash",class:"p-button-warning p-button-sm",onClick:e.deleteTime},null,8,["onClick"])]})),body:Object(a["Q"])((function(t){return[Object(a["l"])(s,{modelValue:e.checkBoxesForDelete[t.index],"onUpdate:modelValue":function(n){return e.checkBoxesForDelete[t.index]=n},binary:!0,onInput:function(n){return e.onChangeCheckbox(t.index,n)}},null,8,["modelValue","onUpdate:modelValue","onInput"])]})),_:1})]})),_:1},8,["value","onCellEditComplete"])}function qe(e,t,n,i,o,l){var r=Object(a["G"])("Calendar");return Object(a["y"])(),Object(a["f"])(r,{timeOnly:!0,hourFormat:"24",modelValue:e.date,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.date=t}),inline:!0},null,8,["modelValue"])}var Je=Object(a["m"])({props:{modelValue:String},emits:["update:modelValue"],setup:function(e,t){var n=Object(a["d"])({get:function(){return A()(e.modelValue,C).toDate()},set:function(e){t.emit("update:modelValue",A()(e).format(C))}});return{date:n}}});const Xe=l()(Je,[["render",qe]]);var Ze=Xe,$e=Z()(),et=Object(a["m"])({components:{DiagramTimeTableManagerTimeEditor:Ze},props:{modelValue:{type:Object,required:!0}},emits:["update:modelValue"],setup:function(e,t){var n=xe(),i=Object(a["d"])((function(){return function(e){var t;return null===(t=n.getters.getStation(e))||void 0===t?void 0:t.name}})),o=Object(a["D"])($e(e.modelValue)),l=Object(a["D"])(e.modelValue.map((function(){return!1})));Object(a["P"])((function(){return e.modelValue}),(function(){o.value=$e(e.modelValue)}));var r=function(n){var a=A()(e.modelValue[n.index].time,C),i=A()(n.data.time,C),l=i.diff(a,"minutes");o.value.forEach((function(e,t){t<=n.index||(e.time=A()(e.time,C).add(l,"minutes").format(C))})),t.emit("update:modelValue",o.value)},c=function(e,t){if(t)for(var n=!1,a=0;a<l.value.length;a++){if(a===e){l.value[a]=t;break}!n&&l.value[a]&&(n=!0),n&&(l.value[a]=t)}else for(var i=e;i<l.value.length;i++){if(i>e&&!l.value[i])break;l.value[i]=t}},u=function(){l.value=e.modelValue.map((function(){return!1}))},s=function(){t.emit("update:modelValue",o.value.filter((function(e,t){return!l.value[t]}))),u()};return{getStationName:i,formatDdHhmmToHhmm:ie,copy:o,onCellEditComplete:r,checkBoxesForDelete:l,onChangeCheckbox:c,deleteTime:s}}});const tt=l()(et,[["render",Ye]]);var nt=tt,at=function(e){return Object(a["B"])("data-v-56249ef2"),e=e(),Object(a["z"])(),e},it=at((function(){return Object(a["i"])("p",{class:"text-sm"}," 別列車から時刻表をコピーしてきます。時間をずらせます。パターンダイヤを組むのに便利です。 ",-1)})),ot=Object(a["k"])(" コピー先: "),lt={class:"font-bold"},rt={class:"formgrid grid"},ct={class:"field col-6"},ut=at((function(){return Object(a["i"])("label",{for:"train-from"},"コピー元",-1)})),st={key:0},dt={class:"field col"},bt=at((function(){return Object(a["i"])("label",{for:"offset"},"オフセット(分)",-1)})),mt={class:"field col"},ft=at((function(){return Object(a["i"])("label",{for:"offset-to"},"ずらす向き",-1)}));function pt(e,t,n,i,o,l){var r=Object(a["G"])("Dropdown"),c=Object(a["G"])("InputNumber"),u=Object(a["G"])("Button"),s=Object(a["G"])("Dialog");return Object(a["y"])(),Object(a["f"])(s,{header:"別の列車からコピー",modal:!0,dismissableMask:!0,visible:e.localVisible,"onUpdate:visible":t[3]||(t[3]=function(t){return e.localVisible=t}),onShow:e.initialize,class:"dttmcfot-dialog"},{footer:Object(a["Q"])((function(){return[Object(a["l"])(u,{label:"確定",onClick:e.onClick},null,8,["onClick"])]})),default:Object(a["Q"])((function(){return[it,Object(a["i"])("p",null,[ot,Object(a["i"])("span",{style:Object(a["t"])({color:e.diagramDataSet.borderColor}),class:"font-bold"},"■",4),Object(a["i"])("span",lt,Object(a["K"])(e.diagramDataSet.label),1)]),Object(a["i"])("div",rt,[Object(a["i"])("div",ct,[ut,Object(a["l"])(r,{id:"train-from",class:"inputfield w-full input",modelValue:e.selectedTrainFromTrain,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.selectedTrainFromTrain=t}),options:e.diagramDataSets.filter((function(t){return t.id!==e.diagramDataSet.id&&t.data.length})),optionLabel:"label",placeholder:"コピー元を選ぶ",filter:!0},{value:Object(a["Q"])((function(t){return[t.value?(Object(a["y"])(),Object(a["h"])("span",st,[Object(a["i"])("span",{style:Object(a["t"])({color:t.value.borderColor})},"■",4),Object(a["i"])("span",null,Object(a["K"])(t.value.label),1),Object(a["k"])(" / "+Object(a["K"])(t.value.data[0].name)+" "+Object(a["K"])(e.formatDdHhmmToHhmm(t.value.data[0].time))+"発 ",1)])):Object(a["g"])("",!0)]})),option:Object(a["Q"])((function(t){return[Object(a["i"])("span",{style:Object(a["t"])({color:t.option.borderColor})},"■",4),Object(a["i"])("span",null,Object(a["K"])(t.option.label),1),Object(a["k"])(" / "+Object(a["K"])(t.option.data[0].name)+" "+Object(a["K"])(e.formatDdHhmmToHhmm(t.option.data[0].time))+"発 ",1)]})),_:1},8,["modelValue","options"])]),Object(a["i"])("div",dt,[bt,Object(a["l"])(c,{id:"offset",class:"inputfield w-full input",modelValue:e.offset,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.offset=t})},null,8,["modelValue"])]),Object(a["i"])("div",mt,[ft,Object(a["l"])(r,{id:"offset-to",class:"inputfield w-full input",modelValue:e.selectedDirection,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.selectedDirection=t}),options:e.directions,optionLabel:"name"},null,8,["modelValue","options"])])])]})),_:1},8,["visible","onShow"])}var vt=Object(a["m"])({props:{diagramDataSet:{type:Object,required:!0},visible:{type:Boolean,required:!0}},emits:["update:visible"],setup:function(e,t){var n=xe(),i=Object(a["d"])((function(){return n.getters.getChatrJsData.datasets})),o=Object(a["D"])(),l=Object(a["D"])(0),r=[{name:"後→",code:"forward"},{name:"←前",code:"back"}],c=Object(a["D"])(r[0]),u=Object(a["d"])({get:function(){return e.visible},set:function(e){t.emit("update:visible",e)}}),s=function(){if(o.value){var t=se(o.value.data,l.value,c.value.code);n.dispatch("updateDiagramData",{id:e.diagramDataSet.id,data:t}),u.value=!1}},d=function(){l.value=0,c.value=r[0],o.value=void 0};return{localVisible:u,onClick:s,initialize:d,diagramDataSets:i,selectedTrainFromTrain:o,offset:l,selectedDirection:c,directions:r,formatDdHhmmToHhmm:ie}}});n("22cf"),n("f414");const Ot=l()(vt,[["render",pt],["__scopeId","data-v-56249ef2"]]);var jt=Ot,yt=Object(a["m"])({components:{DiagramTimeTableManagerTable:nt,DiagramTimeTableManagerCopyFromOtherTrain:jt},props:{diagramDataSetId:{type:Number,default:void 0},refreshChart:Function},setup:function(e){var t,n,i,o,l=Object(a["D"])(),r=Object(a["D"])(30),c=Object(a["D"])([{key:"A",disabled:!1},{key:"B",disabled:!1},{key:"AB",disabled:!1},{key:"BA",disabled:!1}]),u=Object(a["D"])("A"),s=xe(),d=Object(a["d"])((function(){return s.state.stationList})),b=Object(a["d"])((function(){return s.getters.getShouldRecordTimeStationList.filter((function(e){var t;return null===(t=m.value)||void 0===t?void 0:t.stoppingStationList.includes(e.id)}))})),m=Object(a["d"])((function(){return s.getters.getTrainTypeByTrainId(e.diagramDataSetId||0)})),f=Object(a["d"])((function(){var e,t;return{backgroundColor:null===(e=m.value)||void 0===e?void 0:e.lineColor,borderColor:null===(t=m.value)||void 0===t?void 0:t.lineColor}})),p=Object(a["d"])((function(){return s.getters.getTrainDiagramDataSetById(e.diagramDataSetId||-1)})),v=Object(a["d"])({get:function(){var e;return null===(e=p.value)||void 0===e?void 0:e.data},set:function(e){e&&s.dispatch("updateDiagramData",{id:T.value,data:e})}}),O=Object(a["D"])(null!==(t=v.value)&&void 0!==t&&t.length?v.value[v.value.length-1].stationId:null===(n=b.value[0])||void 0===n?void 0:n.id),j=Object(a["D"])(null===(i=b.value[b.value.length-1])||void 0===i?void 0:i.id),y=Object(a["d"])((function(){var e;return null!==(e=v.value)&&void 0!==e&&e.length?v.value[v.value.length-1]:void 0}));l.value=null!==(o=v.value)&&void 0!==o&&o.length?A()(le(v.value[v.value.length-1].time,r.value),C).toDate():A()("2021-10-14 04:30:00").toDate();var g=function(e){if(e){l.value=A()(le(e.time,r.value),C).toDate();var t=[e.stationId,O.value];switch(O.value=t[0],j.value=t[1],u.value){case"A":u.value="B";break;case"B":u.value="A";break;case"AB":case"BA":default:break}}};Object(a["P"])((function(){return e.diagramDataSetId}),(function(){y.value?g(y.value):(O.value=d.value.startingStationId,j.value=d.value.endingStationId,l.value=A()("2021-10-14 04:30",C).toDate())})),Object(a["P"])(y,(function(e){g(e)})),Object(a["P"])(r,(function(e){e&&y.value&&(l.value=A()(le(y.value.time,e),C).toDate())})),Object(a["P"])(O,(function(e){switch(e){case d.value.startingStationId:c.value.forEach((function(e){"A"!==e.key[0]?e.disabled=!0:e.disabled=!1})),u.value.length>=2?u.value="AB":u.value="A";break;case d.value.endingStationId:c.value.forEach((function(e){"B"!==e.key[0]?e.disabled=!0:e.disabled=!1})),u.value.length>=2?u.value="BA":u.value="B";break;default:c.value.forEach((function(e){"A"!==e.key[0]&&(e.disabled=!1)}));break}})),Object(a["P"])(j,(function(e){if(e===O.value)switch(O.value){case d.value.startingStationId:u.value="AB";break;case d.value.endingStationId:u.value="BA";break;default:}else if(e===d.value.startingStationId||e===d.value.endingStationId)switch(O.value){case d.value.startingStationId:u.value="A";break;case d.value.endingStationId:u.value="B";break;default:}})),Object(a["P"])(u,(function(e,t){j.value!==d.value.startingStationId&&j.value!==d.value.endingStationId||(2===e.length&&1===t.length&&(j.value=O.value),1===e.length&&2===t.length&&(O.value===d.value.startingStationId&&(j.value=d.value.endingStationId),O.value===d.value.endingStationId&&(j.value=d.value.startingStationId)))}));var T=Object(a["d"])((function(){return s.state.showingTrainId})),h=function(){v.value&&m.value&&(s.dispatch("updateDiagramData",{id:T.value,data:[].concat(Object(D["a"])(v.value),Object(D["a"])(re({startTime:l.value,trainType:m.value,startStation:O.value,endStation:j.value,boundFor:u.value,terminalStation:s.getters.getTerminalStation,turnCycleTime:r.value})))}),e.refreshChart&&e.refreshChart())},S=Object(a["D"])(!1),x=function(){S.value=!0};return{trainType:m,nextDepartureTime:l,turnCycleTime:r,startStation:O,endStation:j,shouldRecordTimeStoppingStationList:b,buttonColorStyle:f,boundForOptions:c,boundFor:u,selectedDiagramDataSet:p,selectedDiagramDataSetData:v,add:h,isVisibleCopyModal:S,copyFrom:x}}});n("8194");const gt=l()(yt,[["render",ze]]);var Tt=gt,ht={class:"flex align-content-center h-2rem"},St={class:"font-bold"},Dt={key:0,class:"flex justify-content-center flex-wrap trainIdButton"};function xt(e,t,n,i,o,l){var r=Object(a["G"])("Dropdown"),c=Object(a["G"])("InputText"),u=Object(a["G"])("Inplace"),s=Object(a["G"])("SplitButton"),d=Object(a["G"])("DiagramTrainTypeManagerStopStationManager"),b=Object(a["G"])("DiagramTrainTypeManagerNecessaryTimeManager"),m=Object(a["G"])("Button"),f=Object(a["G"])("DiagramTrainTypeNecessaryTimeTable"),p=Object(a["G"])("Panel");return Object(a["y"])(),Object(a["f"])(p,{class:"panel"},{header:Object(a["Q"])((function(){return[Object(a["i"])("div",ht,[Object(a["l"])(u,{closable:!0,class:"flex align-items-stretch",onClose:e.changeLineColorAndTypeName},{display:Object(a["Q"])((function(){var t,n;return[Object(a["i"])("span",{style:Object(a["t"])({color:null===(t=e.trainType)||void 0===t?void 0:t.lineColor})},"■",4),Object(a["i"])("span",St,Object(a["K"])((null===(n=e.trainType)||void 0===n?void 0:n.name)||"種別名"),1)]})),content:Object(a["Q"])((function(){return[Object(a["l"])(r,{options:e.LINE_COLORS,optionLabel:"label",optionValue:"value",placeholder:"線の色",modelValue:e.lineColor,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.lineColor=t}),class:"w-4rem"},{value:Object(a["Q"])((function(e){return[e.value?(Object(a["y"])(),Object(a["h"])("span",{key:0,style:Object(a["t"])({color:e.value})},"■",4)):(Object(a["y"])(),Object(a["h"])(a["a"],{key:1},[Object(a["k"])(Object(a["K"])(e.placeholder),1)],64))]})),option:Object(a["Q"])((function(e){return[Object(a["i"])("span",{style:Object(a["t"])({color:e.option.value})},"■",4),Object(a["k"])(" "+Object(a["K"])(e.option.label),1)]})),_:1},8,["options","modelValue"]),Object(a["l"])(c,{modelValue:e.typeName,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.typeName=t}),placeholder:"種別",class:"w-5rem"},null,8,["modelValue"])]})),_:1},8,["onClose"])])]})),icons:Object(a["Q"])((function(){return[Object(a["l"])(s,{label:"編成+",class:"p-button-sm p-button-secondary split-button",onClick:e.addTrain,model:e.splitButtonItems},null,8,["onClick","model"]),Object(a["l"])(d,{visible:e.isVisibleStopStationManagerModal,"onUpdate:visible":t[2]||(t[2]=function(t){return e.isVisibleStopStationManagerModal=t}),trainType:e.trainType,"onUpdate:trainType":t[3]||(t[3]=function(t){return e.trainType=t})},null,8,["visible","trainType"]),Object(a["l"])(b,{visible:e.isVisibleMeasureNecessaryTimeDialog,"onUpdate:visible":t[4]||(t[4]=function(t){return e.isVisibleMeasureNecessaryTimeDialog=t}),trainType:e.trainType,"onUpdate:trainType":t[5]||(t[5]=function(t){return e.trainType=t})},null,8,["visible","trainType"])]})),default:Object(a["Q"])((function(){return[e.trainType?(Object(a["y"])(),Object(a["h"])("div",Dt,[(Object(a["y"])(!0),Object(a["h"])(a["a"],null,Object(a["E"])(e.trainType.trainIdList,(function(t,n){return Object(a["y"])(),Object(a["f"])(m,{class:"m-1 p-button-sm",key:t,onClick:function(n){return e.changeTrainId(t)},style:Object(a["t"])(e.buttonColorStyle)},{default:Object(a["Q"])((function(){return[Object(a["k"])(Object(a["K"])(n+1),1)]})),_:2},1032,["onClick","style"])})),128))])):Object(a["g"])("",!0),Object(a["l"])(f,{modelValue:e.necessaryTimesA,"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.necessaryTimesA=t}),boundFor:"A"},null,8,["modelValue"]),Object(a["l"])(f,{modelValue:e.necessaryTimesB,"onUpdate:modelValue":t[7]||(t[7]=function(t){return e.necessaryTimesB=t}),boundFor:"B"},null,8,["modelValue"])]})),_:1})}function It(e,t,n,i,o,l){var r=Object(a["G"])("Column"),c=Object(a["G"])("InputNumber"),u=Object(a["G"])("DataTable");return Object(a["y"])(),Object(a["f"])(u,{value:e.necessaryTimeArray,class:"my-1 p-datatable-sm min-w-max max-w-full",editMode:e.editable?"cell":null,onCellEditComplete:e.onCellEditComplete},{header:Object(a["Q"])((function(){return[Object(a["k"])(Object(a["K"])("".concat(e.boundFor,"線")),1)]})),footer:Object(a["Q"])((function(){return[Object(a["k"])(" 合計"+Object(a["K"])(e.necessaryTimeArray.reduce((function(e,t){return e+t.necessaryTime}),0))+"分 ",1)]})),default:Object(a["Q"])((function(){return[Object(a["l"])(r,{field:"from",header:"発",class:"w-4 max-w-0"},{body:Object(a["Q"])((function(t){return[Object(a["k"])(Object(a["K"])(e.getStationName(t.data.from)),1)]})),_:1}),Object(a["l"])(r,{field:"to",header:"着",class:"w-4 max-w-0"},{body:Object(a["Q"])((function(t){return[Object(a["k"])(Object(a["K"])(e.getStationName(t.data.to)),1)]})),_:1}),Object(a["l"])(r,{field:"necessaryTime",header:"分",class:"max-w-0"},{editor:Object(a["Q"])((function(e){var t=e.data,n=e.column;return[Object(a["l"])(c,{modelValue:t[n.props.field],"onUpdate:modelValue":function(e){return t[n.props.field]=e},class:"w-3rem"},null,8,["modelValue","onUpdate:modelValue"])]})),_:1})]})),_:1},8,["value","editMode","onCellEditComplete"])}var kt=Z()(),_t=Object(a["m"])({props:{modelValue:Object,boundFor:String,editable:{type:Boolean,default:!0}},emits:["update:modelValue"],setup:function(e,t){var n=Object(a["d"])((function(){return e.modelValue?Object(D["a"])(e.modelValue.values()):[]})),i=xe(),o=Object(a["d"])((function(){return function(e){var t;return null===(t=i.getters.getStation(e))||void 0===t?void 0:t.name}})),l=function(n){if(e.modelValue){var a=kt(e.modelValue);a.set(n.data.id,n.data),t.emit("update:modelValue",a)}};return{necessaryTimeArray:n,onCellEditComplete:l,getStationName:o}}});const Ct=l()(_t,[["render",It]]);var wt=Ct,Vt=Object(a["i"])("p",{class:"text-sm"}," 採時駅が停車駅の場合、自動的に1分追加した所要時間で計算します ",-1),Rt={class:"flex justify-content-center"},Mt={class:"inline-flex flex-column"},Bt=["for"];function Lt(e,t,n,i,o,l){var r=Object(a["G"])("Checkbox"),c=Object(a["G"])("Button"),u=Object(a["G"])("Dialog");return Object(a["y"])(),Object(a["f"])(u,{header:"停車駅設定",modal:!0,dismissableMask:!0,visible:e.localVisible,"onUpdate:visible":t[1]||(t[1]=function(t){return e.localVisible=t}),onHide:e.onHide},{footer:Object(a["Q"])((function(){return[Object(a["l"])(c,{label:"確定",onClick:e.onClick},null,8,["onClick"])]})),default:Object(a["Q"])((function(){return[Vt,Object(a["i"])("div",Rt,[Object(a["i"])("div",Mt,[(Object(a["y"])(!0),Object(a["h"])(a["a"],null,Object(a["E"])(e.stationList,(function(n,i){return Object(a["y"])(),Object(a["h"])("div",{key:n.id,class:"inline-block mb-1"},[Object(a["l"])(r,{id:"station".concat(n.id),value:n.id,key:n.id,modelValue:e.stoppingStationList,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.stoppingStationList=t}),class:"mx-2",disabled:0===i||i===e.stationList.length-1},null,8,["id","value","modelValue","disabled"]),Object(a["i"])("label",{for:"station".concat(n.id)},Object(a["K"])(n.name),9,Bt)])})),128))])])]})),_:1},8,["visible","onHide"])}var At=Z()(),Nt=Object(a["m"])({props:{trainType:{type:Object,required:!0},visible:{type:Boolean,required:!0}},emits:["update:trainType","update:visible"],setup:function(e,t){var n=xe(),i=Object(a["d"])((function(){return n.state.stationList.stations})),o=Object(a["D"])(At(e.trainType.stoppingStationList||[])),l=Object(a["d"])({get:function(){return e.visible},set:function(e){t.emit("update:visible",e)}}),r=function(){var n=At(e.trainType);n.stoppingStationList=o.value,t.emit("update:trainType",n),l.value=!1},c=function(){o.value=At(e.trainType.stoppingStationList)};return{localVisible:l,stationList:i,stoppingStationList:o,onClick:r,onHide:c}}});const Ft=l()(Nt,[["render",Lt]]);var Gt=Ft,Ut=function(e){return Object(a["B"])("data-v-7f64a16e"),e=e(),Object(a["z"])(),e},Pt=Ut((function(){return Object(a["i"])("p",{class:"text-sm p-4"}," ゲーム内の時間拡張倍率・早回し倍率を選んで、列車の走行に合わせてボタンを押すと、ゲーム内時間でのだいたいの所要時間が測れます。 ",-1)})),Ht={class:"formgrid grid"},Et={class:"field col-6 text-center"},Qt=Ut((function(){return Object(a["i"])("label",{for:"multiplyers"}," 時間拡張",-1)})),Kt={class:"field col-6 text-center"},Wt=Ut((function(){return Object(a["i"])("label",{for:"fast-forward"},"早回し",-1)})),zt={class:"text-center"},Yt={class:"text-4xl"},qt={class:"font-bold"},Jt={class:"grid text-center text-4xl px-8 my-2"},Xt=Ut((function(){return Object(a["i"])("div",{class:"col-12 text-3xl pb-0"},"採時区間",-1)})),Zt={class:"col pt-0"},$t=Ut((function(){return Object(a["i"])("div",{class:"col pt-0"},[Object(a["i"])("span",{class:"pi pi-angle-double-right"})],-1)})),en={class:"col pt-0"},tn={class:"grid my-2"},nn={key:0,class:"col-6 text-6xl text-center"},an={key:0,class:"text-xl"},on={key:1,class:"text-xl"},ln=Object(a["k"])(" "+Object(a["K"])(" ")+" "),rn={class:"font-bold"},cn=Object(a["k"])(" "+Object(a["K"])(" ")+" "),un={key:2,class:"text-xl"},sn={key:3,class:"text-xl"},dn={key:1,class:"col-6 text-6xl text-center text-green-800 font-bold"},bn={class:"col-6 text-6xl text-center"},mn={class:"grid my-2"},fn={class:"grid my-2"},pn={class:"grid"},vn={class:"col-6"},On={class:"col-6"};function jn(e,t,n,i,o,l){var r=Object(a["G"])("Dropdown"),c=Object(a["G"])("MeasureNecessaryTimeRunningButton"),u=Object(a["G"])("Button"),s=Object(a["G"])("DiagramTrainTypeNecessaryTimeTable"),d=Object(a["G"])("Dialog");return Object(a["y"])(),Object(a["f"])(d,{visible:e.localVisible,"onUpdate:visible":t[2]||(t[2]=function(t){return e.localVisible=t}),onShow:e.reset,class:"dialog"},{footer:Object(a["Q"])((function(){return[Object(a["l"])(u,{label:"確定",onClick:e.submit},null,8,["onClick"])]})),default:Object(a["Q"])((function(){var n,i,o,l,d;return[Object(a["i"])("div",null,[Pt,Object(a["i"])("div",Ht,[Object(a["i"])("div",Et,[Qt,Object(a["l"])(r,{modelValue:e.selectedMultiplyer,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.selectedMultiplyer=t}),options:e.MULTIPLYERS,optionLabel:"name",optionValue:"value",placeholder:"x3〜x450",id:"multiplyers",disabled:e.isStarted},null,8,["modelValue","options","disabled"])]),Object(a["i"])("div",Kt,[Wt,Object(a["l"])(r,{modelValue:e.selectedFastForward,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.selectedFastForward=t}),options:e.FAST_FORWARDS,optionLabel:"name",optionValue:"value",placeholder:"x1〜x3",id:"fast-forward",disabled:e.isStarted},null,8,["modelValue","options","disabled"])])]),Object(a["i"])("div",zt,[Object(a["i"])("div",Yt,[Object(a["i"])("span",{style:Object(a["t"])({color:null===(n=e.trainType)||void 0===n?void 0:n.lineColor})},"■",4),Object(a["i"])("span",qt,Object(a["K"])((null===(i=e.trainType)||void 0===i?void 0:i.name)||"種別名"),1)])]),Object(a["i"])("div",Jt,[Xt,Object(a["i"])("div",Zt,Object(a["K"])(null===(o=e.getStation(e.nowStationInfo.sectionFrom))||void 0===o?void 0:o.name),1),$t,Object(a["i"])("div",en,Object(a["K"])(null===(l=e.getStation(e.nowStationInfo.sectionTo))||void 0===l?void 0:l.name),1)]),Object(a["i"])("div",tn,[e.nowStationInfo.finish?(Object(a["y"])(),Object(a["h"])("div",dn," 終了 ")):(Object(a["y"])(),Object(a["h"])("div",nn,[e.isRunning?(Object(a["y"])(),Object(a["h"])("span",an,"つぎは")):(Object(a["y"])(),Object(a["h"])("span",on,"ただいま")),ln,Object(a["i"])("span",rn,Object(a["K"])(null===(d=e.getStation(e.nowStationInfo.nextStation))||void 0===d?void 0:d.name),1),cn,e.isRunning?(Object(a["y"])(),Object(a["h"])("span",un,Object(a["K"])(e.trainType.stoppingStationList.includes(e.nowStationInfo.nextStation)?"停車":"通過"),1)):(Object(a["y"])(),Object(a["h"])("span",sn,"停車中"))])),Object(a["i"])("div",bn,Object(a["K"])(e.formattedTime),1)]),Object(a["i"])("div",null,[Object(a["i"])("div",mn,[Object(a["l"])(c,{onClickRunning:e.onClickRunning,onClickPassing:e.onClickPassing,isRunning:e.isRunning,isPass:!e.trainType.stoppingStationList.includes(e.nowStationInfo.nextStation),disabled:e.nowStationInfo.finish,class:"col mx-1"},null,8,["onClickRunning","onClickPassing","isRunning","isPass","disabled"])]),Object(a["i"])("div",fn,[Object(a["l"])(u,{label:"タイマー止",class:"p-button-warning col mx-1",onClick:e.allStop,disabled:!e.isStarted},null,8,["onClick","disabled"]),Object(a["l"])(u,{label:"リセット",class:"p-button-danger col mx-1",onClick:e.reset,disabled:!e.isStarted},null,8,["onClick","disabled"])])]),Object(a["i"])("div",pn,[Object(a["i"])("div",vn,[Object(a["l"])(s,{modelValue:e.recordedRap.a,boundFor:"A",editable:!1},null,8,["modelValue"])]),Object(a["i"])("div",On,[Object(a["l"])(s,{modelValue:e.recordedRap.b,boundFor:"B",editable:!1},null,8,["modelValue"])])])])]})),_:1},8,["visible","onShow"])}var yn=Z()(),gn=Object(a["m"])({components:{MeasureNecessaryTimeRunningButton:_,DiagramTrainTypeNecessaryTimeTable:wt},props:{visible:{type:Boolean,required:!0},trainType:{type:Object,required:!0}},emits:["update:visible","update:trainType"],setup:function(e,t){var n,i=Object(a["d"])({get:function(){return e.visible},set:function(e){t.emit("update:visible",e)}}),o=xe(),l=Object(a["d"])((function(){return o.state.stationList})),r=o.getters.getStation,c=function(e){return l.value.stations.some((function(t){return t.shouldRecordTime&&t.id===e}))},u=Object(a["D"])(60),s=Object(a["D"])(10),d=Object(a["D"])(new N(u.value*s.value));Object(a["P"])([u,s],(function(){d.value=new N(u.value*s.value)}));var b,m=Object(a["d"])((function(){return d.value.now.format("HH:mm")})),f=Object(a["D"])(!1),p=Object(a["D"])(!1),v=Object(a["D"])({a:ce(l.value,"A"),b:ce(l.value,"B")}),O=function(){v.value={a:ce(l.value,"A"),b:ce(l.value,"B")}},j={sectionFrom:1,sectionTo:(null===(n=l.value.stations.find((function(e){return e.shouldRecordTime&&e.id>1})))||void 0===n?void 0:n.id)||0,nextStation:1,forwards:"A",finish:!1},y=Object(a["D"])(yn(j)),g=function(){var e="".concat(y.value.sectionFrom,"-").concat(y.value.sectionTo),t={id:e,from:y.value.sectionFrom,to:y.value.sectionTo,necessaryTime:A()(d.value.now).diff(b,"minute")};"A"===y.value.forwards?v.value.a.set(e,t):v.value.b.set(e,t)},T=function(){var e,t;(y.value.sectionFrom=y.value.sectionTo,y.value.sectionTo===l.value.endingStationId&&(y.value.forwards="B"),"A"===y.value.forwards)?y.value.sectionTo=(null===(e=l.value.stations.find((function(e){return e.shouldRecordTime&&e.id>y.value.sectionFrom})))||void 0===e?void 0:e.id)||0:y.value.sectionTo=(null===(t=Object(D["a"])(l.value.stations).reverse().find((function(e){return e.shouldRecordTime&&e.id<y.value.sectionFrom})))||void 0===t?void 0:t.id)||0},h=function(){"A"===y.value.forwards?y.value.nextStation++:y.value.nextStation--},S=function(){f.value=!f.value,p.value?f.value?(c(y.value.nextStation)&&(T(),b=d.value.now),h()):c(y.value.nextStation)&&(g(),1===y.value.nextStation&&(I(),y.value.finish=!0)):(p.value=!0,d.value.start(),b=d.value.now,h())},x=function(){c(y.value.nextStation)&&(g(),T(),b=d.value.now),h()},I=function(){f.value=!1,d.value.stop()},k=function(){I(),p.value=!1,O(),d.value.reset(),y.value=yn(j)},C=function(){var n=yn(e.trainType);n.necessaryTimesA=yn(v.value.a),n.necessaryTimesB=yn(v.value.b),t.emit("update:trainType",n),i.value=!1};return{localVisible:i,stationList:l,getStation:r,MULTIPLYERS:V,FAST_FORWARDS:R,selectedMultiplyer:u,selectedFastForward:s,recordedRap:v,timer:d,formattedTime:m,onClickRunning:S,onClickPassing:x,allStop:I,reset:k,MeasureNecessaryTimeRunningButton:_,isStarted:p,isRunning:f,nowStationInfo:y,submit:C}}});n("0474");const Tn=l()(gn,[["render",jn],["__scopeId","data-v-7f64a16e"]]);var hn=Tn,Sn=Z()(),Dn=Object(a["m"])({props:{trainTypeId:{type:Number,required:!0}},components:{DiagramTrainTypeNecessaryTimeTable:wt,DiagramTrainTypeManagerStopStationManager:Gt,DiagramTrainTypeManagerNecessaryTimeManager:hn},setup:function(e){var t,n,i=xe(),o=Object(a["d"])({get:function(){return i.getters.getTrainType(e.trainTypeId||0)},set:function(t){t&&i.dispatch("updateTrainType",{id:e.trainTypeId,data:t})}}),l=Object(a["d"])({get:function(){var e;return null===(e=o.value)||void 0===e?void 0:e.necessaryTimesA},set:function(t){t&&i.dispatch("updateTrainTypeNecessaryTimeTable",{trainTypeId:e.trainTypeId,boundFor:"A",newNecessaryTimeMap:t})}}),r=Object(a["d"])({get:function(){var e;return null===(e=o.value)||void 0===e?void 0:e.necessaryTimesB},set:function(t){t&&i.dispatch("updateTrainTypeNecessaryTimeTable",{trainTypeId:e.trainTypeId,boundFor:"B",newNecessaryTimeMap:t})}}),c=function(e){i.commit("setShowingTrainId",{id:e})},u=Object(a["D"])((null===(t=o.value)||void 0===t?void 0:t.lineColor)||""),s=Object(a["D"])((null===(n=o.value)||void 0===n?void 0:n.name)||""),d=function(t){if(o.value&&(o.value.lineColor!==t.value||o.value.name!==s.value)){var n=Sn(o.value);n.lineColor=u.value,n.name=s.value,i.dispatch("updateTrainType",{id:e.trainTypeId,data:n})}},b=Object(a["d"])((function(){return{backgroundColor:u.value,borderColor:u.value}})),m=Object(a["D"])(!1),f=function(){o.value&&i.dispatch("addTrain",{trainTypeId:o.value.id})},p=function(){m.value=!0},v=Object(a["D"])(!1),O=function(){v.value=!0},j=Object(a["D"])([{label:"停車駅編集",icon:"pi pi-list",command:p},{label:"所要時間計測",icon:"pi pi-clock",command:O}]);return{trainType:o,lineColor:u,typeName:s,changeTrainId:c,changeLineColorAndTypeName:d,addTrain:f,LINE_COLORS:w,buttonColorStyle:b,necessaryTimesA:l,necessaryTimesB:r,splitButtonItems:j,isVisibleStopStationManagerModal:m,isVisibleMeasureNecessaryTimeDialog:v}}});n("e42a");const xn=l()(Dn,[["render",xt],["__scopeId","data-v-927ce3ee"]]);var In=xn,kn=function(e){return Object(a["B"])("data-v-4a828ea4"),e=e(),Object(a["z"])(),e},_n={class:"p-inputgroup"},Cn=kn((function(){return Object(a["i"])("p",null,"チェックをつける: 採時駅",-1)})),wn={class:"station-chart"},Vn={class:"vertical-rl h-5rem"},Rn=kn((function(){return Object(a["i"])("p",{class:"vertical-rl"},"さんぷる",-1)}));function Mn(e,t,n,i,o,l){var r=Object(a["G"])("InputText"),c=Object(a["G"])("Button"),u=Object(a["G"])("Checkbox"),s=Object(a["G"])("Inplace"),d=Object(a["G"])("Timeline");return Object(a["y"])(),Object(a["h"])(a["a"],null,[Object(a["i"])("div",_n,[Object(a["l"])(r,{placeholder:"駅名",modelValue:e.newStationName,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.newStationName=t}),onKeydown:t[1]||(t[1]=Object(a["S"])((function(t){return e.onEnter(t.keyCode,e.addStation)}),["enter"]))},null,8,["modelValue"]),Object(a["l"])(c,{icon:"pi pi-plus",onClick:e.addStation,label:"駅追加"},null,8,["onClick"])]),Cn,Object(a["i"])("div",wn,[e.stationList.stations.length?(Object(a["y"])(),Object(a["f"])(d,{key:0,value:e.stationList.stations,layout:"horizontal"},{marker:Object(a["Q"])((function(t){return[Object(a["l"])(u,{modelValue:t.item.shouldRecordTime,binary:!0,onChange:function(){return e.changeCheckbox(t.index)}},null,8,["modelValue","onChange"])]})),content:Object(a["Q"])((function(t){return[Object(a["i"])("div",Vn,[Object(a["l"])(s,{closable:!0,onClose:function(){return e.changeStationName(t.index)},active:e.isOpenStationNameChange[t.index],"onUpdate:active":function(n){return e.isOpenStationNameChange[t.index]=n},class:"block"},{display:Object(a["Q"])((function(){return[Object(a["k"])(Object(a["K"])(t.item.name),1)]})),content:Object(a["Q"])((function(){return[Object(a["l"])(r,{modelValue:t.item.name,class:"w-6rem",onInput:e.onChangeStationName,onKeydown:Object(a["S"])((function(n){return e.onEnter(n.keyCode,(function(){return e.changeStationName(t.index)}))}),["enter"])},null,8,["modelValue","onInput","onKeydown"])]})),_:2},1032,["onClose","active","onUpdate:active"])])]})),_:1},8,["value"])):(Object(a["y"])(),Object(a["f"])(d,{key:1,value:[1,2,3],layout:"horizontal"},{content:Object(a["Q"])((function(){return[Rn]})),_:1}))])],64)}var Bn=Object(a["m"])({setup:function(){var e=xe(),t=Object(a["d"])((function(){return e.state.stationList})),n=Object(a["D"])(""),i=function(){e.dispatch("updateStationList",t.value.stations.concat({id:Math.max.apply(Math,Object(D["a"])(t.value.stations.map((function(e){return e.id}))).concat([0]))+1,name:n.value||String(t.value.stations.length),shouldRecordTime:!0})),n.value=""},o=function(n){var a=t.value.stations.map((function(e,t){return{id:e.id,name:e.name,shouldRecordTime:t===n?!e.shouldRecordTime:e.shouldRecordTime}}));e.dispatch("updateStationList",a)},l=Object(a["D"])([]),r=Object(a["D"])(""),c=function(e){r.value=e.target.value},u=function(n){var a=t.value.stations.map((function(e,t){return{id:e.id,name:t===n?r.value||e.name||String(t):e.name,shouldRecordTime:e.shouldRecordTime}}));e.dispatch("updateStationList",a),l.value[n]=!1},s=function(e,t){13===e&&t()};return{stationList:t,newStationName:n,addStation:i,onEnter:s,changeCheckbox:o,isOpenStationNameChange:l,changeStationName:u,onChangeStationName:c}}});n("308f");const Ln=l()(Bn,[["render",Mn],["__scopeId","data-v-4a828ea4"]]);var An=Ln,Nn=Object(a["m"])({components:{Chart:Ie["a"],DiagramMenu:Be,DiagramTimeTableManager:Tt,DiagramTrainTypeManager:In,DiagramStationManager:An},setup:function(){var e=Object(a["D"])(),t=Object(a["d"])((function(){return{tension:0,animation:!1,responsive:!0,aspectRatio:matchMedia("(max-width: 640px)").matches?2:3,parsing:{xAxisKey:"time",yAxisKey:"name"},indexAxis:"y",showLine:!0,plugins:{legend:{labels:{color:"#495057"}}},elements:{line:{borderWidth:1}},scales:{x:{min:n.getters.getMinAndMaxTimeOnDiagramData.min||"2021-10-14: 04:30",max:n.getters.getMinAndMaxTimeOnDiagramData.max,type:"time",time:{parser:"yyyy-MM-dd HH:mm",unit:"minute",stepSize:5,displayFormats:{minute:"HH:mm"},tooltipFormat:"HH:mm"},ticks:{color:"#495057"},grid:{color:"#ebedef"},position:"top"},y:{ticks:{color:"#495057",source:"labels"},grid:{color:"#ebedef"}}}}})),n=xe(),i=Object(a["d"])((function(){return n.getters.getTrainType(1)})),o=Object(a["d"])((function(){return n.state.trainTypes})),l=Object(a["d"])((function(){return n.getters.getChatrJsData})),r=Object(a["d"])((function(){return n.state.showingTrainId})),c=Object(a["d"])((function(){return o.value.size<6&&n.state.stationList.stations.length>1})),u=function(){n.dispatch("addInitialTrainType")};return Object(a["w"])((function(){e.value&&n.commit("setChartRefresh",{chartRefresh:e.value.refresh})})),{data:l,graphOptions:t,ltdExp:i,trainTypes:o,formatDdHhmmToHhmm:ie,chartRef:e,showingTrainId:r,canAddTrainType:c,addInitialTrainType:u}}});n("061b");const Fn=l()(Nn,[["render",q],["__scopeId","data-v-12a1a0b1"]]);var Gn=Fn,Un=Object(a["m"])({name:"Home",components:{MeasureNeccesaryTime:U,Diagram:Gn}});n("3595");const Pn=l()(Un,[["render",f],["__scopeId","data-v-62adb661"]]);var Hn=Pn,En=[{path:"/",name:"Home",component:Hn,meta:{title:"DiaGen | ダイヤグラム作成サポートツール",desc:"鉄道運営シミュレーター向けダイヤグラム作成サポートツール"}}],Qn=Object(d["a"])({history:Object(d["b"])("/a-train-supporter/"),routes:En}),Kn=Qn,Wn=n("e21a"),zn=n.n(Wn),Yn=n("9319"),qn=n("0100"),Jn=n("bb57"),Xn=n("22a4"),Zn=n("9899"),$n=n("5b2c"),ea=n("6f85"),ta=n("ae1f"),na=n("1e2d"),aa=n("cb8b"),ia=n("3822"),oa=n("8398"),la=n("b35c"),ra=n("5db6"),ca=n("2052"),ua=n("246e"),sa=n("5bd2");n("098b"),n("e1ae"),n("4121"),n("bddf");Object(a["e"])(u).use(De,he).use(zn.a,{ignoreMutations:["setShowingTrainId","setChartRefresh","incrementTrainId"]}).use(Kn).use(Yn["a"]).component("Dropdown",qn["a"]).component("SplitButton",Xn["a"]).component("Button",Jn["a"]).component("RadioButton",la["a"]).component("Card",Zn["a"]).component("Chart",Ie["a"]).component("DataTable",$n["a"]).component("Column",ea["a"]).component("ScrollPanel",ta["a"]).component("Panel",na["a"]).component("Calendar",aa["a"]).component("InputNumber",ia["a"]).component("InputText",oa["a"]).component("Timeline",ra["a"]).component("Checkbox",ca["a"]).component("Inplace",ua["a"]).component("Dialog",sa["a"]).mount("#app")},dc41:function(e,t,n){},e42a:function(e,t,n){"use strict";n("bb1f")},f32c:function(e,t,n){},f414:function(e,t,n){"use strict";n("2043")}});
//# sourceMappingURL=index.08533cdb.js.map